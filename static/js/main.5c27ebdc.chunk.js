(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3aHbO","imageGalleryItem-image":"ImageGalleryItem_imageGalleryItem-image__31wbe"}},11:function(e,t,a){e.exports={overlay:"Modal_overlay__1joNW",modal:"Modal_modal__1aWyG"}},13:function(e,t,a){e.exports={button:"Button_button__geoE_"}},20:function(e,t,a){},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__l18Vt",searchForm:"Searchbar_searchForm__3ckVt",searchFormButton:"Searchbar_searchFormButton__1U_ep",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__3ooFb",searchFormInput:"Searchbar_searchFormInput__3ExMh"}},43:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),r=a.n(n),o=a(6),s=a.n(o),i=(a(20),a(3)),l=a(4),u=a.n(l),m=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),o=r[0],s=r[1];return Object(c.jsx)("header",{className:u.a.searchbar,children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o),s("")},className:u.a.searchForm,children:[Object(c.jsx)("button",{type:"submit",className:u.a.searchFormButton,children:Object(c.jsx)("span",{className:u.a.searchFormButtonLabel,children:"Search"})}),Object(c.jsx)("input",{onChange:function(e){var t=e.target.value;s(t)},className:u.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,value:o,placeholder:"Search images and photos"})]})})},b=a(12),j=a(9),h=a.n(j),d=a(10),O=a.n(d);function g(e){var t=e.image,a=e.alt,n=e.largeImage,r=e.onClick;return Object(c.jsx)("li",{className:O.a.imageGalleryItem,onClick:function(){return r(n,a)},children:Object(c.jsx)("img",{src:t,alt:a,className:O.a.imageGalleryItem-t})})}var f=a(13),_=a.n(f);function p(e){var t=e.onClick;return Object(c.jsx)("button",{type:"button",className:_.a.button,onClick:t,children:"Load More"})}var v=a(14),x=a.n(v);a(42);var y={fetchData:function(e,t){var a="".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("18602896-269905921176f8eb36b1925d1","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.json()}))}};function I(e){var t=e.searchImages,a=e.openModal,r=Object(n.useState)([]),o=Object(i.a)(r,2),s=o[0],l=o[1],u=Object(n.useState)(null),m=Object(i.a)(u,2),j=m[0],d=m[1],O=Object(n.useState)(1),f=Object(i.a)(O,2),_=f[0],v=f[1],I=Object(n.useState)("idle"),S=Object(i.a)(I,2),F=S[0],G=S[1];Object(n.useEffect)((function(){t&&(G("pending"),y.fetchData(t,_).then((function(e){l((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e.hits))})),d(e.total)})).finally((function(){return G("resolved")})))}),[_,t]);var N=j-12*_;return"idle"===F?Object(c.jsx)("div",{className:h.a.question,children:"\u0427\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043d\u0430\u0439\u0442\u0438?"}):"pending"===F?Object(c.jsx)("div",{className:"spiner",children:Object(c.jsx)(x.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})}):"resolved"===F?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("ul",{className:h.a.imageGallery,children:0!==j?s.map((function(e){var t=e.id,n=e.webformatURL,r=e.tags,o=e.largeImageURL;return Object(c.jsx)(g,{image:n,alt:r,largeImage:o,onClick:a},t)})):Object(c.jsx)("div",{children:"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"})}),N>0&&Object(c.jsx)(p,{onClick:function(){v((function(e){return e+1}))}})]}):void 0}var S=a(11),F=a.n(S),G=document.querySelector("#modal-root");function N(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(o.createPortal)(Object(c.jsx)("div",{className:F.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(c.jsx)("div",{className:F.a.modal,children:a})}),G)}function k(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],b=Object(n.useState)(""),j=Object(i.a)(b,2),h=j[0],d=j[1],O=Object(n.useState)(""),g=Object(i.a)(O,2),f=g[0],_=g[1],p=function(e,t){u(!l),d(e),_(t)};return Object(c.jsxs)(c.Fragment,{children:[l&&Object(c.jsx)(N,{onClose:p,children:Object(c.jsx)("img",{src:h,alt:f})}),Object(c.jsx)(m,{onSubmit:r}),Object(c.jsx)(I,{searchImages:a,openModal:p})]})}s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(k,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__36CRY",question:"ImageGallery_question__1cJ_g"}}},[[43,1,2]]]);
//# sourceMappingURL=main.5c27ebdc.chunk.js.map